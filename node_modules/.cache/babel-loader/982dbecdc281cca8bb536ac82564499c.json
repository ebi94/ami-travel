{"ast":null,"code":"import _slicedToArray from\"/var/www/html/ami-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';// utils\nconst isClient=typeof window==='object';const on=(obj,...args)=>obj.addEventListener(...args);const off=(obj,...args)=>obj.removeEventListener(...args);const patchHistoryMethod=method=>{const original=window.history[method];window.history[method]=function(state){const result=original.apply(this,arguments);const event=new Event(method.toLowerCase());event.state=state;window.dispatchEvent(event);return result;};};if(isClient){patchHistoryMethod('pushState');patchHistoryMethod('replaceState');}export const useLocation=()=>{const buildState=trigger=>{const _window$history=window.history,state=_window$history.state,length=_window$history.length;const _window$location=window.location,hash=_window$location.hash,host=_window$location.host,hostname=_window$location.hostname,href=_window$location.href,origin=_window$location.origin,pathname=_window$location.pathname,port=_window$location.port,protocol=_window$location.protocol,search=_window$location.search;return{trigger,state,length,hash,host,hostname,href,origin,pathname,port,protocol,search};};const _useState=useState(isClient?buildState('load'):{trigger:'load',length:1}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(()=>{const onChange=trigger=>setState(buildState(trigger));const onPopstate=()=>onChange('popstate');const onPushstate=()=>onChange('pushstate');const onReplacestate=()=>onChange('replacestate');on(window,'popstate',onPopstate);on(window,'pushstate',onPushstate);on(window,'replacestate',onReplacestate);return()=>{off(window,'popstate',onPopstate);off(window,'pushstate',onPushstate);off(window,'replacestate',onReplacestate);};},[]);return state;};","map":{"version":3,"sources":["/var/www/html/ami-travel/src/library/hooks/useLocation.js"],"names":["useEffect","useState","isClient","window","on","obj","args","addEventListener","off","removeEventListener","patchHistoryMethod","method","original","history","state","result","apply","arguments","event","Event","toLowerCase","dispatchEvent","useLocation","buildState","trigger","length","location","hash","host","hostname","href","origin","pathname","port","protocol","search","setState","onChange","onPopstate","onPushstate","onReplacestate"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\n\n// utils\nconst isClient = typeof window === 'object';\nconst on = (obj, ...args) => obj.addEventListener(...args);\nconst off = (obj, ...args) => obj.removeEventListener(...args);\n\nconst patchHistoryMethod = method => {\n  const original = window.history[method];\n  window.history[method] = function(state) {\n    const result = original.apply(this, arguments);\n    const event = new Event(method.toLowerCase());\n    event.state = state;\n    window.dispatchEvent(event);\n    return result;\n  };\n};\nif (isClient) {\n  patchHistoryMethod('pushState');\n  patchHistoryMethod('replaceState');\n}\nexport const useLocation = () => {\n  const buildState = trigger => {\n    const { state, length } = window.history;\n    const {\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search,\n    } = window.location;\n    return {\n      trigger,\n      state,\n      length,\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search,\n    };\n  };\n  const [state, setState] = useState(\n    isClient\n      ? buildState('load')\n      : {\n          trigger: 'load',\n          length: 1,\n        }\n  );\n  useEffect(() => {\n    const onChange = trigger => setState(buildState(trigger));\n    const onPopstate = () => onChange('popstate');\n    const onPushstate = () => onChange('pushstate');\n    const onReplacestate = () => onChange('replacestate');\n    on(window, 'popstate', onPopstate);\n    on(window, 'pushstate', onPushstate);\n    on(window, 'replacestate', onReplacestate);\n    return () => {\n      off(window, 'popstate', onPopstate);\n      off(window, 'pushstate', onPushstate);\n      off(window, 'replacestate', onReplacestate);\n    };\n  }, []);\n  return state;\n};\n"]},"metadata":{},"sourceType":"module"}